<!doctype html><html lang=en><head><script src="/aLong/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=aLong/livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Prometueus.yml配置文件说明</title>
<meta name=description content="整体配置 prometueus.yml 配置文件注解与说明
global: # 全局配置 scrape_interval: 15s # 默认值为 1m，用于设置每次数据收集的间隔 scrape_timeout: 10s # 默认10s,收集超时时间 evaluation_interval: 15s # 记录规则/告警的 …"><meta name=keywords content='blog,aLong,blog.51ai.vip,Prometheus'><meta property="og:url" content="http://localhost:1313/aLong/posts/prometueus-yml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E/"><meta property="og:type" content="website"><meta property="og:title" content="Prometueus.yml配置文件说明"><meta property="og:description" content="整体配置 prometueus.yml 配置文件注解与说明
global: # 全局配置 scrape_interval: 15s # 默认值为 1m，用于设置每次数据收集的间隔 scrape_timeout: 10s # 默认10s,收集超时时间 evaluation_interval: 15s # 记录规则/告警的 …"><meta property="og:image" content="http://localhost:1313/aLong/"><meta property="og:image:secure_url" content="http://localhost:1313/aLong/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Prometueus.yml配置文件说明"><meta name=twitter:description content="整体配置 prometueus.yml 配置文件注解与说明
global: # 全局配置 scrape_interval: 15s # 默认值为 1m，用于设置每次数据收集的间隔 scrape_timeout: 10s # 默认10s,收集超时时间 evaluation_interval: 15s # 记录规则/告警的 …"><meta property="twitter:domain" content="http://localhost:1313/aLong/posts/prometueus-yml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E/"><meta property="twitter:url" content="http://localhost:1313/aLong/posts/prometueus-yml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E/"><meta name=twitter:image content="http://localhost:1313/aLong/"><link rel=canonical href=http://localhost:1313/aLong/posts/prometueus-yml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E/><link rel=stylesheet type=text/css href=/aLong/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/aLong/css/main.min.css><link id=dark-theme rel=stylesheet href=/aLong/css/dark.min.css><script src=/aLong/js/bundle.min.9a920d7dabdbad8363b6a0a94e29a9dfebdb7ee64cfcb193a0145e512ef2bdab.js integrity="sha256-mpINfavbrYNjtqCpTimp3+vbfuZM/LGToBReUS7yvas="></script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=nav-title><a class=nav-brand href=http://localhost:1313/aLong/>aLong Blog</a></div><div class=nav-links><div class=nav-link><a href=http://localhost:1313/aLong/><span data-feather=home></span> Home</a></div><div class=nav-link><a href=http://localhost:1313/aLong/posts/>Posts</a></div><div class=nav-link><a href=http://localhost:1313/aLong/tags/>Tags</a></div><div class=nav-link><a href=http://localhost:1313/aLong/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target"></span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=http://localhost:1313/aLong/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=http://localhost:1313/aLong/posts/>Posts</a></li><li class=nav-item><a href=http://localhost:1313/aLong/tags/>Tags</a></li><li class=nav-item><a href=http://localhost:1313/aLong/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Prometueus.yml配置文件说明</h1><small role=doc-subtitle></small><p class=post-date>2019/10/09</p><ul class=post-tags><li class=post-tag><a href=http://localhost:1313/aLong/tags/prometheus>Prometheus</a></li></ul></div><div class=post-content><h2 id=整体配置>整体配置</h2><p>prometueus.yml 配置文件注解与说明</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>global</span>:                       <span style=color:#75715e># 全局配置</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scrape_interval</span>: <span style=color:#ae81ff>15s       </span> <span style=color:#75715e># 默认值为 1m，用于设置每次数据收集的间隔</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scrape_timeout</span>: <span style=color:#ae81ff>10s        </span> <span style=color:#75715e># 默认10s,收集超时时间</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>evaluation_interval</span>: <span style=color:#ae81ff>15s   </span> <span style=color:#75715e># 记录规则/告警的执行周期 默认1m</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>external_labels</span>:            <span style=color:#75715e># 时间序列和警告与外部通信(远程存储/警报灯)时用的外部标签</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>monitor</span>: <span style=color:#e6db74>&#39;ctmonitor&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>rule_files</span>:                   <span style=color:#75715e># 指定告警规则文件&amp;记录文件</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#34;/usr/local/prometheus/rules.yml&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>alerting</span>:                     <span style=color:#75715e># 告警管理配置</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>alert_relable_configs</span>:      <span style=color:#75715e># 修改告警内容</span>
</span></span><span style=display:flex><span>  - 
</span></span><span style=display:flex><span>  <span style=color:#f92672>alertmanagers</span>:              <span style=color:#75715e># 告警管理起配置</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>static_configs</span>:           <span style=color:#75715e># 静态配置</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>targets</span>:                <span style=color:#75715e># 警告器地址</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>172.16.23.12</span>:<span style=color:#ae81ff>9093</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 用于配置 scrape 的 endpoint  配置需要 scrape 的 targets 以及相应的参数</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 抓取(pull)，即监控目标配置。默认只有主机本身的监控配置 </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>scrape_configs</span>:               <span style=color:#75715e># 抓取配置选项</span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>job_name</span>: <span style=color:#ae81ff>prometheus       </span> <span style=color:#75715e># 默认情况下分配给刮削度量的作业名称。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scrape_interval</span>: <span style=color:#ae81ff>5s        </span> <span style=color:#75715e># 从这项工作中获取目标的频率。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scrape_timeout</span>: <span style=color:#ae81ff>3s         </span> <span style=color:#75715e># 每次获取超时时间</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>honor_timestamps</span>: <span style=color:#66d9ef>true</span>      <span style=color:#75715e># 默认false, 在获取时是否使用当前的时间戳</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>metrics_path</span>: <span style=color:#ae81ff>/metrics     </span> <span style=color:#75715e># 从目标获取度量的http资源路径。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scheme</span>: <span style=color:#ae81ff>http               </span> <span style=color:#75715e># </span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>static_configs</span>:             <span style=color:#75715e># 为此作业标记的静态配置目标的列表。</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>targets</span>:                  <span style=color:#75715e># 目监控标</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>172.16.23.12</span>:<span style=color:#ae81ff>9090</span>       <span style=color:#75715e># 设备地址+端口</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>job_name</span>: <span style=color:#e6db74>&#39;snmp-10.0.0.1&#39;</span>  
</span></span><span style=display:flex><span>  <span style=color:#f92672>scrape_interval</span>: <span style=color:#ae81ff>30s</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scrape_timeout</span>: <span style=color:#ae81ff>20s</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>static_configs</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>targets</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>10.0.0.1</span>                  <span style=color:#75715e># SNMP设备,端口默认5060</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>metrics_path</span>: <span style=color:#ae81ff>/snmp</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>params</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>module</span>: [<span style=color:#ae81ff>if_mib]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>relabel_configs</span>:                <span style=color:#75715e># 重定义标签</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>source_labels</span>: [<span style=color:#ae81ff>__address__] </span> <span style=color:#75715e># 需要修改的标签</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>target_label</span>: <span style=color:#ae81ff>__param_target </span> <span style=color:#75715e># 改成的标签</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>source_labels</span>: [<span style=color:#ae81ff>__param_target]</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>target_label</span>: <span style=color:#ae81ff>instance</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>target_label</span>: <span style=color:#ae81ff>__address__</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>replacement</span>: <span style=color:#ae81ff>172.16.23.12</span>:<span style=color:#ae81ff>9117</span>
</span></span></code></pre></div><h2 id=各部分详解>各部分详解</h2><hr><p>部分官方文档的译文</p><hr><p>官方文档中,使用了通用占位符来解释设定值的定义.</p><p>通用占位符由下面定义：</p><ul><li><code>\&lt;boolean\></code>: 一个布尔值，包括<code>true</code>或者<code>false</code>.</li><li><code>\&lt;duration\></code>: 持续时间，与正则表达式<code>[0-9]+(ms|smhdwy)</code>匹配</li><li><code>\&lt;labelname\></code>: 一个与正则表达式<code>[a-zA-Z_][a-zA-Z0-9_]*</code>匹配的字符串</li><li><code>\&lt;labelvalue\></code>: 一个为unicode字符串</li><li><code>\&lt;filename\></code>: 当前工作目录下的有效路径</li><li><code>\&lt;host\></code>: 一个包含主机名或者IP地址，并且可以带上一个非必需的端口号的有效字符串</li><li><code>\&lt;path\></code>: 一个有效的URL路径</li><li><code>\&lt;scheme\></code>: 一个可以是<code>http</code>或者<code>https</code>的字符串</li><li><code>\&lt;string\></code>: 一个正则表达式字符串</li></ul><h3 id=scrape_configs>scrape_configs</h3><p>监控配置</p><p>&lt;scrape_configs>
配置采集目标
1、根据配置的任务（job）以http/s周期性的收刮（scrape/pull）
2、指定目标（target）上的指标（metric）。目标（target）
3、可以以静态方式或者自动发现方式指定。Prometheus将收刮（scrape）的指标（metric）保存在本地或者远程存储上。</p><p>&lt;scrape_config>部分指定一组描述如何刮除它们的目标和参数。 在一般情况下，一个scrape配置指定单个作业。 在高级配置中，这可能会改变。
目标可以通过&lt;static_configs>参数静态配置，也可以使用其中一种支持的服务发现机制动态发现。
此外，&lt;relabel_configs>允许在抓取之前对任何目标及其标签进行高级修改。
其中&lt;job_name>在所有scrape配置中必须是唯一的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 默认分配给已抓取指标的job名称。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>job_name</span>: <span style=color:#ae81ff>&lt;job_name&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 从job中抓取目标的频率.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ scrape_interval</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = &lt;global_config.scrape_interval&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 抓取此job时，每次抓取超时时间.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ scrape_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = &lt;global_config.scrape_timeout&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 从目标获取指标的HTTP资源路径.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ metrics_path</span>: <span style=color:#ae81ff>&lt;path&gt; | default = /metrics ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># honor_labels控制Prometheus如何处理已经存在于已抓取数据中的标签与Prometheus将附加服务器端的标签之间的冲突（&#34;job&#34;和&#34;instance&#34;标签，手动配置的目标标签以及服务发现实现生成的标签）。</span>
</span></span><span style=display:flex><span><span style=color:#75715e># </span>
</span></span><span style=display:flex><span><span style=color:#75715e># 如果honor_labels设置为&#34;true&#34;，则通过保留已抓取数据的标签值并忽略冲突的服务器端标签来解决标签冲突。</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 如果honor_labels设置为&#34;false&#34;，则通过将已抓取数据中的冲突标签重命名为&#34;exported_ &lt;original-label&gt;&#34;（例如&#34;exported_instance&#34;，&#34;exported_job&#34;）然后附加服务器端标签来解决标签冲突。 这对于联合等用例很有用，其中应保留目标中指定的所有标签。</span>
</span></span><span style=display:flex><span><span style=color:#75715e># </span>
</span></span><span style=display:flex><span><span style=color:#75715e># 请注意，任何全局配置的&#34;external_labels&#34;都不受此设置的影响。 在与外部系统通信时，它们始终仅在时间序列尚未具有给定标签时应用，否则将被忽略。</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 当设置为 true, 以拉取数据为准，否则以服务配置为准</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ honor_labels</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 配置用于请求的协议方案.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ scheme</span>: <span style=color:#ae81ff>&lt;scheme&gt; | default = http ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 可选的HTTP URL参数.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>params</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ &lt;string&gt;</span>: [<span style=color:#ae81ff>&lt;string&gt;, ...] ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的用户名和密码在每个scrape请求上设置`Authorization`标头。 password和password_file是互斥的。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>basic_auth</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ username</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ password</span>: <span style=color:#ae81ff>&lt;secret&gt; ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ password_file</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的承载令牌在每个scrape请求上设置`Authorization`标头。 它`bearer_token_file`和是互斥的。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ bearer_token</span>: <span style=color:#ae81ff>&lt;secret&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的承载令牌在每个scrape请求上设置`Authorization`标头。 它`bearer_token`和是互斥的。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ bearer_token_file</span>: <span style=color:#ae81ff>/path/to/bearer/token/file ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 配置scrape请求的TLS设置.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tls_config</span>:
</span></span><span style=display:flex><span>  [ <span style=color:#ae81ff>&lt;tls_config&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 可选的代理URL.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ proxy_url</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Azure服务发现配置列表.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>azure_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;azure_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Consul服务发现配置列表.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>consul_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;consul_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># DNS服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>dns_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;dns_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># EC2服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>ec2_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;ec2_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># OpenStack服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>openstack_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;openstack_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 文件服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>file_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;file_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># GCE服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>gce_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;gce_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Kubernetes服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kubernetes_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;kubernetes_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Marathon服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>marathon_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;marathon_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># AirBnB的神经服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>nerve_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;nerve_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Zookeeper Serverset服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>serverset_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;serverset_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Triton服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>triton_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;triton_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 此job的标记静态配置目标列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>static_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;static_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 目标重新标记配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>relabel_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;relabel_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 度量标准重新配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metric_relabel_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;relabel_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 对每个将被接受的样本数量的每次抓取限制。</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 如果在度量重新标记后存在超过此数量的样本，则整个抓取将被视为失败。 0表示没有限制。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ sample_limit</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 0 ]</span>
</span></span></code></pre></div><h3 id=rule_files>rule_files</h3><p>记录规则,编写的记录规则是定义一些常用计算规则.这些规则会存储到数据中.
告警的警报规则文件需要在这里引入.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>rule_files</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;filepath_glob&gt; ... ]</span>
</span></span></code></pre></div><h3 id=alerting>alerting</h3><p>Alertmanager相关配置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>alerting</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>alert_relabel_configs</span>:
</span></span><span style=display:flex><span>    [ - <span style=color:#ae81ff>&lt;relabel_config&gt; ... ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>alertmanagers</span>:
</span></span><span style=display:flex><span>    [ - <span style=color:#ae81ff>&lt;alertmanager_config&gt; ... ]</span>
</span></span></code></pre></div><p>&lt;alertmanager_config>
alertmanager_config部分指定Prometheus服务器向其发送警报的Alertmanager实例。 它还提供参数以配置如何与这些Alertmanagers进行通信。
Alertmanagers可以通过static_configs参数静态配置，也可以使用其中一种支持的服务发现机制动态发现。
此外，relabel_configs允许从发现的实体中选择Alertmanagers，并对使用的API路径提供高级修改，该路径通过__alerts_path__标签公开。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 推送警报时按目标Alertmanager超时。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 10s ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 将推送HTTP路径警报的前缀。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ path_prefix</span>: <span style=color:#ae81ff>&lt;path&gt; | default = / ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 配置用于请求的协议方案。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ scheme</span>: <span style=color:#ae81ff>&lt;scheme&gt; | default = http ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的用户名和密码在每个请求上设置`Authorization`标头。 password和password_file是互斥的。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>basic_auth</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ username</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ password</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ password_file</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的承载令牌在每个请求上设置“Authorization”标头。 它与`bearer_token_file`互斥。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ bearer_token</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的承载令牌在每个请求上设置“Authorization”标头。 它与`bearer_token`互斥。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ bearer_token_file</span>: <span style=color:#ae81ff>/path/to/bearer/token/file ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 配置scrape请求的TLS设置。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tls_config</span>:
</span></span><span style=display:flex><span>  [ <span style=color:#ae81ff>&lt;tls_config&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 可选的代理URL。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ proxy_url</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Azure服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>azure_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;azure_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Consul服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>consul_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;consul_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># DNS服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>dns_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;dns_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ECS服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>ec2_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;ec2_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 文件服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>file_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;file_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># GCE服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>gce_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;gce_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># K8S服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kubernetes_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;kubernetes_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Marathon服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>marathon_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;marathon_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># AirBnB&#39;s Nerve 服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>nerve_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;nerve_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Zookepper服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>serverset_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;serverset_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Triton服务发现配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>triton_sd_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;triton_sd_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 标记为静态配置的Alertmanagers列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>static_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;static_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Alertmanager重新配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>relabel_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;relabel_config&gt; ... ]</span>
</span></span></code></pre></div><h3 id=remote_write>remote_write</h3><p>云端写入数据
&lt;remote_write>
write_relabel_configs是在将样本发送到远程端点之前应用于样本的重新标记。 在外部标签之后应用写入重新标记。 这可用于限制发送的样本。</p><p>有一个如何使用此功能的小型演示。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 要发送样本的端点的URL.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>url</span>: <span style=color:#ae81ff>&lt;string&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 对远程写端点的请求超时。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ remote_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30s ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 远程写入重新标记配置列表。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>write_relabel_configs</span>:
</span></span><span style=display:flex><span>  [ - <span style=color:#ae81ff>&lt;relabel_config&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的用户名和密码在每个远程写请求上设置`Authorization`标头.password和password_file是互斥的。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>basic_auth</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ username</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ password</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ password_file</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的承载令牌在每个远程写请求上设置`Authorization`头。 它与`bearer_token_file`互斥。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ bearer_token</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的承载令牌在每个远程写请求上设置`Authorization`头。 它与`bearer_token`互斥。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ bearer_token_file</span>: <span style=color:#ae81ff>/path/to/bearer/token/file ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 配置远程写入请求的TLS设置。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tls_config</span>:
</span></span><span style=display:flex><span>  [ <span style=color:#ae81ff>&lt;tls_config&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 可选的代理URL。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ proxy_url</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 配置用于写入远程存储的队列。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>queue_config</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># 在我们开始删除之前每个分片缓冲的样本数。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ capacity</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 10000 ]</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 最大分片数，即并发数。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ max_shards</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1000 ]</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 最小分片数，即并发数。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ min_shards</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 1 ]</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 每次发送的最大样本数。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ max_samples_per_send</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 100]</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 样本在缓冲区中等待的最长时间。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ batch_send_deadline</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 5s ]</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 在可恢复错误上重试批处理的最大次数。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ max_retries</span>: <span style=color:#ae81ff>&lt;int&gt; | default = 3 ]</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 初始重试延迟。 每次重试都会加倍。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ min_backoff</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 30ms ]</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 最大重试延迟。</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ max_backoff</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 100ms ]</span>
</span></span></code></pre></div><h3 id=remote_read>remote_read</h3><p>云端读取数据
&lt;remote_read></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># 要发送样本的端点的URL.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>url</span>: <span style=color:#ae81ff>&lt;string&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 可选的匹配器列表，必须存在于选择器中以查询远程读取端点。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>required_matchers</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ &lt;labelname&gt;</span>: <span style=color:#ae81ff>&lt;labelvalue&gt; ... ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 对远程读取端点的请求超时。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ remote_timeout</span>: <span style=color:#ae81ff>&lt;duration&gt; | default = 1m ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 本地存储应该有完整的数据。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ read_recent</span>: <span style=color:#ae81ff>&lt;boolean&gt; | default = false ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的用户名和密码在每个远程写请求上设置`Authorization`标头.password和password_file是互斥的。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>basic_auth</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ username</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ password</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[ password_file</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的承载令牌在每个远程写请求上设置`Authorization`头。 它与`bearer_toke_filen`互斥。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ bearer_token</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 使用配置的承载令牌在每个远程写请求上设置`Authorization`头。 它与`bearer_token`互斥。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ bearer_token_file</span>: <span style=color:#ae81ff>/path/to/bearer/token/file ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 配置远程写入请求的TLS设置。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tls_config</span>:
</span></span><span style=display:flex><span>  [ <span style=color:#ae81ff>&lt;tls_config&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 可选的代理URL。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ proxy_url</span>: <span style=color:#ae81ff>&lt;string&gt; ]</span>
</span></span></code></pre></div><h3 id=relabel_configs>relabel_configs</h3><p>用来重新打标记,修改标签.</p><p>请注意labels 的取名格式:
<strong>标签label名称可以包含ASCII字母、数字和下划线。它们必须匹配正则表达式[a-zA-Z_][a-zA-Z0-9_]*。带有_下划线的标签名称被保留内部使用。</strong></p><p>标签labels值包含任意的Unicode码。</p><p>&lt;relabel_configs>
Prometheus 重新标签
允许在采集之前对任何目标及其标签进行修改</p><p>　　• 重命名标签名
　　• 删除标签
　　• 过滤目标</p><p>action：重新标签动作</p><ul><li>replace：默认，通过regex匹配source_label的值，使用replacement来引用表达式匹配的分组</li><li>keep：删除regex与连接不匹配的目标 source_labels</li><li>drop：删除regex与连接匹配的目标 source_labels</li><li>labeldrop：删除regex匹配的标签</li><li>labelkeep：删除regex不匹配的标签</li><li>hashmod：设置target_label为modulus连接的哈希值source_labels</li><li>labelmap：匹配regex所有标签名称。然后复制匹配标签的值进行分组，replacement分组引用（${1},${2},…）替代</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>relable_configs</span>:
</span></span><span style=display:flex><span><span style=color:#75715e># 源标签从现有标签中选择值。 它们的内容使用已配置的分隔符进行连接，并与已配置的正则表达式进行匹配，以进行替换，保留和删除操作。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ source_labels</span>: <span style=color:#e6db74>&#39;[&#39;</span> <span style=color:#ae81ff>&lt;labelname&gt; [, ...] &#39;]&#39; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 分隔符放置在连接的源标签值之间。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ separator</span>: <span style=color:#ae81ff>&lt;string&gt; | default = ; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 在替换操作中将结果值写入的标签。</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 替换操作是强制性的。 正则表达式捕获组可用。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ target_label</span>: <span style=color:#ae81ff>&lt;labelname&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 与提取的值匹配的正则表达式。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ regex</span>: <span style=color:#ae81ff>&lt;regex&gt; | default = (.*) ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 采用源标签值的散列的模数。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ modulus</span>: <span style=color:#ae81ff>&lt;uint64&gt; ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 如果正则表达式匹配，则执行正则表达式替换的替换值。 正则表达式捕获组可用。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ replacement</span>: <span style=color:#ae81ff>&lt;string&gt; | default = $1 ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 基于正则表达式匹配执行的操作。</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[ action</span>: <span style=color:#ae81ff>&lt;relabel_action&gt; | default = replace ]</span>
</span></span></code></pre></div></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script></div></main><footer class=footer><span>&copy; 2019 aLong</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>