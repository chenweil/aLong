<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Hugo 0.86.0" />
  
  <meta name="description" content="Docker常用命令 说常用不如说自己用到的命令。
容器相关 学习了一下docker，基础常用命令记录下。 ####docker run/新建并启动容器 这个run其实包含两个不走，先执行新建容器(docker create),接着启动容器(docker start)。敲两个是不是有点麻烦吧。
docker run xx [COMMAND]
例子 docker run -it ubuntu:14.04 /bin/bash
这里希望启动一个基于 ubuntu 14.04镜像 来创建一个容器，-t选项让Docker分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上，-i则让容器的标准输入保持打开。更多的命令选项可以通过man docker-run命令来查看。之后命令还有一项，启动一个bash终端。 这条命令涉及到很多知识了。 -参数 常用 -i -d -t -p， -d 是否在后台运行，-p 映射到本地主机端口。剩下的看手册来补下。
docker create &amp;&amp; docker start &amp;&amp; docker stop 创建，启动，停止。 有一个容易停止了，可以用 docker start XX容器 启动。 XX 可以是容器的ID，也可以是name。
docker rm 删除一个容器（最好先把这个容器停止了再删除）。 -f 可以强制删除。-v 删除与容器关联的卷（如果刚学习还真不知道什么是卷）。
docker attach 进入容器，如果开启了一个 -d 后台启动容器。 我们怎么进去看看？ docker attach XX容器 这个命令我学习时候用过，感觉有时候不太好使。命令执行完卡那不动。
docker exec 可以在容器内直接执行任意命令。 docker exec -it xx /bin/bash 这可以进入xx镜像，并打开bash。 相比这个比上面的attach 好多了。">
  <link rel="stylesheet" href="https://blog.51ai.vip/aLong.github.io/css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  
  
  
  <link rel="stylesheet" href="https://blog.51ai.vip/aLong.github.io/css/cayman.ea0e967413f3851071cc8ace3621bc4205fe8fa79b2abe3d7bf94ff2841f0d47.css">
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

  <title>Docker常用命令 | aLong blog</title>
</head>

<body>
  <section class="page-header">
  <h1 class="project-name">
    aLong
  </h1>
  <h2 class="project-tagline">
    Hello world
  </h2>
  <nav>
    
    
      
      
      
      
      <a href="/aLong.github.io/" class="btn">Blog</a>
    
      
      
      
      
      <a href="/aLong.github.io/tags/" class="btn">Tags</a>
    
  </nav>
</section>

  <section class="main-content">
    
  <h1>Docker常用命令</h1>
  <h2 id="docker常用命令">Docker常用命令</h2>
<p>说常用不如说自己用到的命令。</p>
<h3 id="容器相关">容器相关</h3>
<p>学习了一下docker，基础常用命令记录下。
####docker run/新建并启动容器
这个run其实包含两个不走，先执行新建容器(docker create),接着启动容器(docker start)。敲两个是不是有点麻烦吧。</p>
<p>docker run  xx [COMMAND]</p>
<p>例子 <code>docker run -it ubuntu:14.04 /bin/bash</code></p>
<p>这里希望启动一个基于 ubuntu 14.04镜像 来创建一个容器，-t选项让Docker分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上，-i则让容器的标准输入保持打开。更多的命令选项可以通过man docker-run命令来查看。之后命令还有一项，启动一个bash终端。 这条命令涉及到很多知识了。
-参数 常用 -i -d -t -p，   -d 是否在后台运行，-p 映射到本地主机端口。剩下的看手册来补下。</p>
<h4 id="docker-create--docker-start--docker-stop">docker create &amp;&amp; docker start &amp;&amp; docker stop</h4>
<p>创建，启动，停止。
有一个容易停止了，可以用 docker start  XX容器 启动。 XX 可以是容器的ID，也可以是name。</p>
<h4 id="docker-rm">docker rm</h4>
<p>删除一个容器（最好先把这个容器停止了再删除）。
-f 可以强制删除。-v 删除与容器关联的卷（如果刚学习还真不知道什么是卷）。</p>
<h4 id="docker-attach">docker attach</h4>
<p>进入容器，如果开启了一个 -d 后台启动容器。 我们怎么进去看看？  <code>docker attach XX容器</code>
这个命令我学习时候用过，感觉有时候不太好使。命令执行完卡那不动。</p>
<h4 id="docker-exec">docker exec</h4>
<p>可以在容器内直接执行任意命令。
<code>docker exec -it xx /bin/bash</code>    这可以进入xx镜像，并打开bash。 相比这个比上面的attach 好多了。</p>
<h4 id="docker-ps">docker ps</h4>
<p>列出启动中的容器， <code>docker ps -a</code> 列出所有镜像。</p>
<p>###仓库相关</p>
<h4 id="docker-images">docker images</h4>
<p>列出本地镜像文件</p>
<h4 id="docker-rmi">docker rmi</h4>
<p>删除本地镜像文件</p>
<h4 id="docker-seach-xxx">docker seach xxx</h4>
<p>在docker hub查询xxx 镜像</p>
<h4 id="docker-pull">docker pull</h4>
<p>像不像git？ docker pull xx 可以下载xx镜像到本地。 （还能联想到 push 吧？ commit ？ 这些吧）</p>
<h4 id="docker-login">docker login</h4>
<p>登陆docker hub</p>
<h4 id="docker-push">docker push</h4>
<p>推送本地镜像到docker hub上。</p>
<h3 id="数据相关">数据相关</h3>
<h4 id="-v">-v</h4>
<p>在容器内创建数据卷    <code>docker run -d  -v /test ubuntu</code>  在此镜像下创建一个test数据卷
也可以挂在主机目录为数据卷  <code>docker run -d  -v /usr/local/src:/opt/test ubuntu</code>   将本地的/usr/lcoal/src  挂载到此镜象的 /opt/test  作为数据卷。 在本机修改，容器内可以看到。
这里可以增加参数来控制读写，默认读写。</p>
<h4 id="volumes-from">volumes-from</h4>
<p>数据卷容器
容器与容器间的数据挂在参数。
例如有个容器为 files    ，通过另一个 test来挂在files。 <code>docker run -it --volumes-from files --name test ubuntu</code>
<code>--name</code> 是为后者容器起名。这个名字叫test 挂在了files 容器的数据。</p>
<h3 id="端口映射容器互联">端口映射，容器互联</h3>
<h4 id="-p---p">-p &amp;&amp; -P</h4>
<p><code>docker run -itd -p 8080:80 --name web nginx:1.15</code>   本机8080端口映射到容器80.
-p 需要自己分配端口   -P Docker会随机映射一个49000~49900的端口</p>
<h4 id="docker-port">docker port</h4>
<p>查看映射端口配置</p>
<h4 id="link">link</h4>
<p><code>--link</code>参数可以让容器之间安全地进行交互</p>
<p>基本上了解到的命令吧，后续根据搭建环境以及使用中来丰富其他的命令和参数。</p>


    <footer class="site-footer">
  <span class="site-footer-credits">
    Made with <a href="https://gohugo.io/">Hugo</a>. Themed by <a href="https://github.com/zwbetz-gh/cayman-hugo-theme">Cayman</a>. Deployed to <a href="https://www.netlify.com/">Netlify</a>.
  </span>
</footer>

  </section>
  
  

</body>
</html>
