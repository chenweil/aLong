<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Hugo 0.86.0" />
  
  <meta name="description" content="Laradock 安装与使用 官网
GitHub: https://github.com/laradock/laradock
要求   Git Docker &gt;= 17.12   项目的位置  已有项目情况: git submodule add https://github.com/Laradock/laradock.git 克隆到项目根目录.  结构 :
  project-a    laradock-a project-b  laradock-b    没有项目情况: git clone https://github.com/laradock/laradock.git 克隆后,在同级部署项目.     laradock project-x project-y  启动环境 clone下来还没有生成.
进入laradock目录,编辑Web服务器站点配置. cp env-exalpme .env 环境是laradock环境,里面可以对相应的版本,配置进行修改. 例如指定mysql版本为5.7 ,vim .env ,搜索到mysql部分, 修改MYSQL_VERSION=5.7.26 保存退出.(这里还没生成容器前可以统一配置好需要的环境,再生成容器.)
例如我们需要启动环境需要 mysql,redis,nginx.
执行 docker-compose up -d nginx mysql redis">
  <link rel="stylesheet" href="https://blog.51ai.vip/aLong.github.io/css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  
  
  
  <link rel="stylesheet" href="https://blog.51ai.vip/aLong.github.io/css/cayman.ea0e967413f3851071cc8ace3621bc4205fe8fa79b2abe3d7bf94ff2841f0d47.css">
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

  <title>Laradock安装与使用 | aLong blog</title>
</head>

<body>
  <section class="page-header">
  <h1 class="project-name">
    aLong
  </h1>
  <h2 class="project-tagline">
    Hello world
  </h2>
  <nav>
    
    
      
      
      
      
      <a href="/aLong.github.io/" class="btn">Blog</a>
    
      
      
      
      
      <a href="/aLong.github.io/tags/" class="btn">Tags</a>
    
  </nav>
</section>

  <section class="main-content">
    
  <h1>Laradock安装与使用</h1>
  <h3 id="laradock-安装与使用">Laradock 安装与使用</h3>
<p><a href="https://laradock.io">官网</a></p>
<p>GitHub: <a href="https://github.com/laradock/laradock">https://github.com/laradock/laradock</a></p>
<h3 id="要求">要求</h3>
<blockquote>
<ul>
<li>Git</li>
<li>Docker &gt;= 17.12</li>
</ul>
</blockquote>
<h3 id="项目的位置">项目的位置</h3>
<ol>
<li>已有项目情况: <code>git submodule add https://github.com/Laradock/laradock.git</code> 克隆到项目根目录.</li>
</ol>
<p>结构 :</p>
<blockquote>
<ul>
<li>project-a</li>
</ul>
</blockquote>
<ul>
<li>laradock-a</li>
<li>project-b
<ul>
<li>laradock-b</li>
</ul>
</li>
</ul>
<ol start="2">
<li>没有项目情况: <code>git clone https://github.com/laradock/laradock.git</code> 克隆后,在同级部署项目.</li>
</ol>
<blockquote>
</blockquote>
<ul>
<li>laradock</li>
<li>project-x</li>
<li>project-y</li>
</ul>
<h3 id="启动环境">启动环境</h3>
<p>clone下来还没有生成.</p>
<p>进入laradock目录,编辑Web服务器站点配置. <code>cp env-exalpme .env</code>
环境是laradock环境,里面可以对相应的版本,配置进行修改.
例如指定mysql版本为5.7 ,<code>vim .env</code> ,搜索到mysql部分, 修改<strong>MYSQL_VERSION=5.7.26</strong> 保存退出.(这里还没生成容器前可以统一配置好需要的环境,再生成容器.)</p>
<p>例如我们需要启动环境需要 mysql,redis,nginx.</p>
<p>执行 docker-compose up -d nginx mysql redis</p>
<p>经过漫长等待后,可以得到我们想要的环境,通过 docker ps 或者 docker-compose ps 查看容器.</p>
<p>如果先生成容器,在之后编辑环境时,需要停掉容器,修改完 build之后 再start 容器.
例如修改nginx:</p>
<ol>
<li><code>docker-compose stop nginx</code></li>
<li>修改.env 或者 nginx conf</li>
<li><code>docker-compose build nginx</code> (完全重建,加参数: &ndash;no-cache)</li>
<li><code>docker-compose start nginx</code></li>
</ol>
<h3 id="nginx-配置项目">Nginx 配置项目</h3>
<p>我们再laradock中,进入nginx/sites/ 下.复制laravel.conf.example 命名为我们的项目.</p>
<p><code>cp laravel.conf.example Myblog.conf</code></p>
<p>我们在Myblog.conf 配置nginx 具体信息.这里与配置Vhost一样的操作.</p>
<p><strong>修改完成后,需要build nginx(重建nginx容器).</strong></p>
<h3 id="项目配置数据库">项目配置数据库</h3>
<p>laravel项目, .env 中 此项需要改为<strong>DB_HOST=mysql</strong>,其他参数按照容器mysql配置账号密码等.
Redis 修改类似.</p>
<h3 id="项目执行php-artisan-方式">项目执行php artisan 方式</h3>
<p>在laravel 需要执行 php artisan命令时,我们进入到workspace容器,</p>
<p><code>docker-compose exec workspace bash</code></p>
<p>进入workkspace后,就可以像以前一样进入项目目录中可以执行.</p>
<p>也可以通过开启ssh.连接workspace 执行.</p>
<h3 id="关闭所有正在运行的容器">关闭所有正在运行的容器</h3>
<p><code>docker-compose stop</code></p>
<h3 id="删除所有现有容器">删除所有现有容器</h3>
<p><code>docker-compose down</code></p>
<p><em>其他内容请详见手册吧</em></p>


    <footer class="site-footer">
  <span class="site-footer-credits">
    Made with <a href="https://gohugo.io/">Hugo</a>. Themed by <a href="https://github.com/zwbetz-gh/cayman-hugo-theme">Cayman</a>. Deployed to <a href="https://www.netlify.com/">Netlify</a>.
  </span>
</footer>

  </section>
  
  

</body>
</html>
