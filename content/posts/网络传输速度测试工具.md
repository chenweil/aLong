---
title: 网络传输速度测试工具
date: 2019-10-23 17:31:55
tags: ["iperf","LANSpeedTest","soft"]
---

## 网络传输测试软件
 最近公司测试限速,搜集软件发现两款,iperf,LANSpeedTest.
 iperf,多平台.
 LANSpeedTest,读写显示,操作简单.
 **局域网测试传输,优先考虑UDP.**

### iperf

Iperf可以报告带宽,延迟抖动和数据包丢失.
[官方文档](https://iperf.fr/iperf-doc.php)
安装不写了.跳过

iperf常用参数介绍
```bash
	-i 2	#表示每2秒显示一次报告
	-w 80k	#对于TCP方式，此设置为TCP窗口大小。对于UDP方式，此设置为接受UDP数据包的缓冲区大小，限制可以接受数据包的最大值

	-B 192.168.122.1	
		#绑定到主机的多个地址中的一个。对于客户端来说，这个参数设置了出栈接口。对于服务器端来说，这个参数设置入栈接口。这个参数只用于具有多网络接口的主机。
		#在Iperf的UDP模式下，此参数用于绑 定和加入一个多播组。使用范围在224.0.0.0至239.255.255.255的多播地址
#常用客户端参数
	-b 100m	#用于udp测试时，设置测试发送的带宽，单位：bit/秒，不设置时默认为：1Mbit/秒
	-c 	#指定服务端ip地址
	-d 	#同时测试上行和下行
	-t 10	#设置传输时间，为10秒	
	-P 5	#指定发起5个线程
```

#### UDP测试
```bash
服务端
	iperf -u -s 		# -u表示以udp模式运行，-s表示作为服务端, 这里需要设置ip

客户端
	iperf -u -c 192.168.100.11 -b 100M -t 60 -i 2
	#解释：在udp模式下，以100Mbps为数据发送速率，客户端到服务器192.168.100.11上传带宽测试，测试时间为60秒

	iperf -u -c 192.168.100.11 5M -P 30 -t 6		#客户端同时向服务器端发起30个连接线程，以5Mbps为数据发送速率
	iperf -u -c 192.168.100.11 -b 100M -d -t 60 	#以100M为数据发送速率，进行上下行带宽测试
```


#### TCP测试

```bash
服务端
	iperf -s

客户端
	iperf -c 192.168.100.11 -t 60			#在tcp模式下，客户端到服务器192.168.100.11上传带宽测试，测试时间为60秒。 
	iperf -c 192.168.100.11 -P 30 -t 60		#客户端同时向服务器端发起30个连接线程。 
	iperf -c 192.168.100.11 -d -t 60 -i 2	#进行上下行带宽测试。
```

### 测试结果

![](https://s2.ax1x.com/2019/10/24/KNIyt0.png)
结果中可以看到:
30秒(-t)的测试,传递数据 70+ (-b参数), 监测的带宽约为20M .


## LANSpeedTest

首先server端开启服务即可.
LST_Server 程序开启.
如图:
![](https://s2.ax1x.com/2019/10/24/KNIskq.png)

终端
LAN_SpeedTest 程序.
界面如图:
![](https://s2.ax1x.com/2019/10/24/KNID7n.png)

配置种可以配置数据大小:
点击Config:
![](https://s2.ax1x.com/2019/10/24/KNI6hV.png)
具体配置自行参考里面的选项.这里设置10M的数据.

设定好目标IP,Folder or Server IP 这里填写.

单击 Start Test 等待结果.

图为检测中:
![](https://s2.ax1x.com/2019/10/24/KNIgpT.png)


结果:
![](https://s2.ax1x.com/2019/10/24/KNID7n.png)
检测结果和上面软件类似,约为20M.
