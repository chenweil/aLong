<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Docker常用命令</title>
<meta name=description content="Docker常用命令 说常用不如说自己用到的命令。
容器相关 学习了一下docker，基础常用命令记录下。 ####docker run/新建并启动容器 这个run其实包含两个不走，先执行新建容器(docker create),接着启动容器(docker start)。敲两个是不是有点麻烦吧。
docker run …"><meta name=keywords content='blog,aLong,blog.51ai.vip,Docker'><meta property="og:url" content="https://blog.51ai.vip/aLong/posts/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><meta property="og:type" content="website"><meta property="og:title" content="Docker常用命令"><meta property="og:description" content="Docker常用命令 说常用不如说自己用到的命令。
容器相关 学习了一下docker，基础常用命令记录下。 ####docker run/新建并启动容器 这个run其实包含两个不走，先执行新建容器(docker create),接着启动容器(docker start)。敲两个是不是有点麻烦吧。
docker run …"><meta property="og:image" content="https://blog.51ai.vip/aLong/"><meta property="og:image:secure_url" content="https://blog.51ai.vip/aLong/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Docker常用命令"><meta name=twitter:description content="Docker常用命令 说常用不如说自己用到的命令。
容器相关 学习了一下docker，基础常用命令记录下。 ####docker run/新建并启动容器 这个run其实包含两个不走，先执行新建容器(docker create),接着启动容器(docker start)。敲两个是不是有点麻烦吧。
docker run …"><meta property="twitter:domain" content="https://blog.51ai.vip/aLong/posts/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><meta property="twitter:url" content="https://blog.51ai.vip/aLong/posts/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><meta name=twitter:image content="https://blog.51ai.vip/aLong/"><link rel=canonical href=https://blog.51ai.vip/aLong/posts/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/><link rel=stylesheet type=text/css href=/aLong/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/aLong/css/main.min.css><link id=dark-theme rel=stylesheet href=/aLong/css/dark.min.css><script src=/aLong/js/bundle.min.9a920d7dabdbad8363b6a0a94e29a9dfebdb7ee64cfcb193a0145e512ef2bdab.js integrity="sha256-mpINfavbrYNjtqCpTimp3+vbfuZM/LGToBReUS7yvas="></script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=nav-title><a class=nav-brand href=https://blog.51ai.vip/aLong/>aLong Blog</a></div><div class=nav-links><div class=nav-link><a href=https://blog.51ai.vip/aLong/><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://blog.51ai.vip/aLong/posts/>Posts</a></div><div class=nav-link><a href=https://blog.51ai.vip/aLong/tags/>Tags</a></div><div class=nav-link><a href=https://blog.51ai.vip/aLong/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target"></span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.51ai.vip/aLong/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://blog.51ai.vip/aLong/posts/>Posts</a></li><li class=nav-item><a href=https://blog.51ai.vip/aLong/tags/>Tags</a></li><li class=nav-item><a href=https://blog.51ai.vip/aLong/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Docker常用命令</h1><small role=doc-subtitle></small><p class=post-date>2019/04/11</p><ul class=post-tags><li class=post-tag><a href=https://blog.51ai.vip/aLong/tags/docker>Docker</a></li></ul></div><div class=post-content><h2 id=docker常用命令>Docker常用命令</h2><p>说常用不如说自己用到的命令。</p><h3 id=容器相关>容器相关</h3><p>学习了一下docker，基础常用命令记录下。
####docker run/新建并启动容器
这个run其实包含两个不走，先执行新建容器(docker create),接着启动容器(docker start)。敲两个是不是有点麻烦吧。</p><p>docker run xx [COMMAND]</p><p>例子 <code>docker run -it ubuntu:14.04 /bin/bash</code></p><p>这里希望启动一个基于 ubuntu 14.04镜像 来创建一个容器，-t选项让Docker分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上，-i则让容器的标准输入保持打开。更多的命令选项可以通过man docker-run命令来查看。之后命令还有一项，启动一个bash终端。 这条命令涉及到很多知识了。
-参数 常用 -i -d -t -p， -d 是否在后台运行，-p 映射到本地主机端口。剩下的看手册来补下。</p><h4 id=docker-create--docker-start--docker-stop>docker create && docker start && docker stop</h4><p>创建，启动，停止。
有一个容易停止了，可以用 docker start XX容器 启动。 XX 可以是容器的ID，也可以是name。</p><h4 id=docker-rm>docker rm</h4><p>删除一个容器（最好先把这个容器停止了再删除）。
-f 可以强制删除。-v 删除与容器关联的卷（如果刚学习还真不知道什么是卷）。</p><h4 id=docker-attach>docker attach</h4><p>进入容器，如果开启了一个 -d 后台启动容器。 我们怎么进去看看？ <code>docker attach XX容器</code>
这个命令我学习时候用过，感觉有时候不太好使。命令执行完卡那不动。</p><h4 id=docker-exec>docker exec</h4><p>可以在容器内直接执行任意命令。
<code>docker exec -it xx /bin/bash</code> 这可以进入xx镜像，并打开bash。 相比这个比上面的attach 好多了。</p><h4 id=docker-ps>docker ps</h4><p>列出启动中的容器， <code>docker ps -a</code> 列出所有镜像。</p><p>###仓库相关</p><h4 id=docker-images>docker images</h4><p>列出本地镜像文件</p><h4 id=docker-rmi>docker rmi</h4><p>删除本地镜像文件</p><h4 id=docker-seach-xxx>docker seach xxx</h4><p>在docker hub查询xxx 镜像</p><h4 id=docker-pull>docker pull</h4><p>像不像git？ docker pull xx 可以下载xx镜像到本地。 （还能联想到 push 吧？ commit ？ 这些吧）</p><h4 id=docker-login>docker login</h4><p>登陆docker hub</p><h4 id=docker-push>docker push</h4><p>推送本地镜像到docker hub上。</p><h3 id=数据相关>数据相关</h3><h4 id=-v>-v</h4><p>在容器内创建数据卷 <code>docker run -d -v /test ubuntu</code> 在此镜像下创建一个test数据卷
也可以挂在主机目录为数据卷 <code>docker run -d -v /usr/local/src:/opt/test ubuntu</code> 将本地的/usr/lcoal/src 挂载到此镜象的 /opt/test 作为数据卷。 在本机修改，容器内可以看到。
这里可以增加参数来控制读写，默认读写。</p><h4 id=volumes-from>volumes-from</h4><p>数据卷容器
容器与容器间的数据挂在参数。
例如有个容器为 files ，通过另一个 test来挂在files。 <code>docker run -it --volumes-from files --name test ubuntu</code>
<code>--name</code> 是为后者容器起名。这个名字叫test 挂在了files 容器的数据。</p><h3 id=端口映射容器互联>端口映射，容器互联</h3><h4 id=-p---p>-p && -P</h4><p><code>docker run -itd -p 8080:80 --name web nginx:1.15</code> 本机8080端口映射到容器80.
-p 需要自己分配端口 -P Docker会随机映射一个49000~49900的端口</p><h4 id=docker-port>docker port</h4><p>查看映射端口配置</p><h4 id=link>link</h4><p><code>--link</code>参数可以让容器之间安全地进行交互</p><p>基本上了解到的命令吧，后续根据搭建环境以及使用中来丰富其他的命令和参数。</p></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script></div></main><footer class=footer><span>&copy; 2019 aLong</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>