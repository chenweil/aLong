<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Laradock安装与使用</title>
<meta name=description content="Laradock 安装与使用 官网
GitHub: https://github.com/laradock/laradock
要求 Git Docker >= 17.12 项目的位置 已有项目情况: git submodule add …"><meta name=keywords content='blog,aLong,blog.51ai.vip,Laravel,docker'><meta property="og:url" content="https://blog.51ai.vip/aLong/posts/laradock%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"><meta property="og:type" content="website"><meta property="og:title" content="Laradock安装与使用"><meta property="og:description" content="Laradock 安装与使用 官网
GitHub: https://github.com/laradock/laradock
要求 Git Docker >= 17.12 项目的位置 已有项目情况: git submodule add …"><meta property="og:image" content="https://blog.51ai.vip/aLong/"><meta property="og:image:secure_url" content="https://blog.51ai.vip/aLong/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Laradock安装与使用"><meta name=twitter:description content="Laradock 安装与使用 官网
GitHub: https://github.com/laradock/laradock
要求 Git Docker >= 17.12 项目的位置 已有项目情况: git submodule add …"><meta property="twitter:domain" content="https://blog.51ai.vip/aLong/posts/laradock%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"><meta property="twitter:url" content="https://blog.51ai.vip/aLong/posts/laradock%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"><meta name=twitter:image content="https://blog.51ai.vip/aLong/"><link rel=canonical href=https://blog.51ai.vip/aLong/posts/laradock%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/><link rel=stylesheet type=text/css href=/aLong/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/aLong/css/main.min.css><link id=dark-theme rel=stylesheet href=/aLong/css/dark.min.css><script src=/aLong/js/bundle.min.9a920d7dabdbad8363b6a0a94e29a9dfebdb7ee64cfcb193a0145e512ef2bdab.js integrity="sha256-mpINfavbrYNjtqCpTimp3+vbfuZM/LGToBReUS7yvas="></script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=nav-title><a class=nav-brand href=https://blog.51ai.vip/aLong/>aLong Blog</a></div><div class=nav-links><div class=nav-link><a href=https://blog.51ai.vip/aLong/><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://blog.51ai.vip/aLong/posts/>Posts</a></div><div class=nav-link><a href=https://blog.51ai.vip/aLong/tags/>Tags</a></div><div class=nav-link><a href=https://blog.51ai.vip/aLong/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target"></span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.51ai.vip/aLong/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://blog.51ai.vip/aLong/posts/>Posts</a></li><li class=nav-item><a href=https://blog.51ai.vip/aLong/tags/>Tags</a></li><li class=nav-item><a href=https://blog.51ai.vip/aLong/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Laradock安装与使用</h1><small role=doc-subtitle></small><p class=post-date>2019/08/15</p><ul class=post-tags><li class=post-tag><a href=https://blog.51ai.vip/aLong/tags/laravel>Laravel</a></li><li class=post-tag><a href=https://blog.51ai.vip/aLong/tags/docker>docker</a></li></ul></div><div class=post-content><h3 id=laradock-安装与使用>Laradock 安装与使用</h3><p><a href=https://laradock.io>官网</a></p><p>GitHub: <a href=https://github.com/laradock/laradock>https://github.com/laradock/laradock</a></p><h3 id=要求>要求</h3><blockquote><ul><li>Git</li><li>Docker >= 17.12</li></ul></blockquote><h3 id=项目的位置>项目的位置</h3><ol><li>已有项目情况: <code>git submodule add https://github.com/Laradock/laradock.git</code> 克隆到项目根目录.</li></ol><p>结构 :</p><blockquote><ul><li>project-a</li></ul></blockquote><ul><li>laradock-a</li><li>project-b<ul><li>laradock-b</li></ul></li></ul><ol start=2><li>没有项目情况: <code>git clone https://github.com/laradock/laradock.git</code> 克隆后,在同级部署项目.</li></ol><blockquote></blockquote><ul><li>laradock</li><li>project-x</li><li>project-y</li></ul><h3 id=启动环境>启动环境</h3><p>clone下来还没有生成.</p><p>进入laradock目录,编辑Web服务器站点配置. <code>cp env-exalpme .env</code>
环境是laradock环境,里面可以对相应的版本,配置进行修改.
例如指定mysql版本为5.7 ,<code>vim .env</code> ,搜索到mysql部分, 修改<strong>MYSQL_VERSION=5.7.26</strong> 保存退出.(这里还没生成容器前可以统一配置好需要的环境,再生成容器.)</p><p>例如我们需要启动环境需要 mysql,redis,nginx.</p><p>执行 docker-compose up -d nginx mysql redis</p><p>经过漫长等待后,可以得到我们想要的环境,通过 docker ps 或者 docker-compose ps 查看容器.</p><p>如果先生成容器,在之后编辑环境时,需要停掉容器,修改完 build之后 再start 容器.
例如修改nginx:</p><ol><li><code>docker-compose stop nginx</code></li><li>修改.env 或者 nginx conf</li><li><code>docker-compose build nginx</code> (完全重建,加参数: &ndash;no-cache)</li><li><code>docker-compose start nginx</code></li></ol><h3 id=nginx-配置项目>Nginx 配置项目</h3><p>我们再laradock中,进入nginx/sites/ 下.复制laravel.conf.example 命名为我们的项目.</p><p><code>cp laravel.conf.example Myblog.conf</code></p><p>我们在Myblog.conf 配置nginx 具体信息.这里与配置Vhost一样的操作.</p><p><strong>修改完成后,需要build nginx(重建nginx容器).</strong></p><h3 id=项目配置数据库>项目配置数据库</h3><p>laravel项目, .env 中 此项需要改为<strong>DB_HOST=mysql</strong>,其他参数按照容器mysql配置账号密码等.
Redis 修改类似.</p><h3 id=项目执行php-artisan-方式>项目执行php artisan 方式</h3><p>在laravel 需要执行 php artisan命令时,我们进入到workspace容器,</p><p><code>docker-compose exec workspace bash</code></p><p>进入workkspace后,就可以像以前一样进入项目目录中可以执行.</p><p>也可以通过开启ssh.连接workspace 执行.</p><h3 id=关闭所有正在运行的容器>关闭所有正在运行的容器</h3><p><code>docker-compose stop</code></p><h3 id=删除所有现有容器>删除所有现有容器</h3><p><code>docker-compose down</code></p><p><em>其他内容请详见手册吧</em></p></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script></div></main><footer class=footer><span>&copy; 2019 aLong</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>